<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="×–×× ×™×">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192x192.png">
  <link rel="icon" type="image/png" href="/icons/icon-192x192.png">
  <!-- ×›×•×ª×¨×ª ×”×“×£ (×›×•×ª×¨×ª ×©×ª×•×¤×™×¢ ×‘×’×•×’×œ) -->
  <title>×–×× ×™× - ×–×× ×™ ×”×™×•×, ×–×× ×™ ×©×‘×ª, ×¤×¨×©×ª ×©×‘×•×¢ ×•×œ×•×— ×©× ×” ×¢×‘×¨×™</title>

  <!-- ×ª×™××•×¨ ×”×“×£ (snippet ×‘×’×•×’×œ) -->
  <meta name="description" content="×”×™×™×©×•××•×Ÿ ×–×× ×™× ××¦×™×’ ××ª ×”×©×¢×” ×”× ×•×›×—×™×ª, ×”×©×¢×” ×”×–×× ×™×ª ×œ×¤×™ ×”×œ×›×”, ×ª××¨×™×š ×¢×‘×¨×™ ×•×œ×•×¢×–×™, ×–×× ×™ ×–×¨×™×—×” ×•×©×§×™×¢×”, ×¤×¨×©×ª ×”×©×‘×•×¢, ×–×× ×™ ×›× ×™×¡×ª ×•×™×¦×™××ª ×©×‘×ª ×•×—×’×™×, ×•×¢×•×“ â€“ ××•×ª×× ××•×˜×•××˜×™×ª ×œ×¤×™ ××™×§×•× ×”××©×ª××©.">

  <!-- ××™×œ×•×ª ××¤×ª×— (×œ× ×§×¨×™×˜×™, ××š ×¢×“×™×™×Ÿ ×§×™×™×) -->
  <meta name="keywords" content="×–×× ×™×, ×–×× ×™ ×©×‘×ª, ×–×× ×™ ×”×“×œ×§×ª × ×¨×•×ª, ×¤×¨×©×ª ×©×‘×•×¢, ×ª××¨×™×š ×¢×‘×¨×™, ×–××Ÿ ×”×œ×›×ª×™, ×–×¨×™×—×”, ×©×§×™×¢×”, ×›× ×™×¡×ª ×©×‘×ª, ×œ×•×— ×©× ×” ×¢×‘×¨×™, ×œ×•×— ×©× ×” ×™×”×•×“×™, Jewish Calendar, Hebrew Date, ×©×‘×ª, ×—×’, ×—×’×™×, ×—× ×•×›×”, ×¤×¡×—, ×¨××© ×”×©× ×”">

  <!-- ××—×‘×¨ ×”××ª×¨ -->
  <meta name="author" content="lsegev">

  <!-- ×ª×™×•×’ ×œ×“×¤×“×¤× ×™× ×•×œ××“×™×” -->
  <meta property="og:title" content="×–×× ×™× - ×–×× ×™ ×”×™×•×, ×©×¢×” ×–×× ×™×ª, ×–×× ×™ ×©×‘×ª, ×¤×¨×©×ª ×©×‘×•×¢ ×•×œ×•×— ×©× ×” ×¢×‘×¨×™" />
  <meta property="og:description" content="×”×™×™×©×•××•×Ÿ ×–×× ×™× × ×•×ª×Ÿ ×–×× ×™ ×”×™×•× ×•×”×©×‘×ª, ×ª××¨×™×š ×¢×‘×¨×™, ×©× ×¤×¨×©×”, ×•×–×× ×™ ×”×“×œ×§×” - ×œ×¤×™ ×”××™×§×•× ×©×œ×š." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="he_IL" />

  <!-- ×¢×‘×¨×™×ª ×›×‘×¨×™×¨×ª ××—×“×œ -->
  <meta http-equiv="Content-Language" content="he">

  <!-- ×”×’×“×¨×ª canonical ×œ×× ×•×¢×™ ×—×™×¤×•×© -->
  <link rel="canonical" href="https://lsegev.github.io/zmanim/">

  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./service-worker.js')
      .then(registration => {
        console.log('ServiceWorker registration successful');
        
        // ×‘×“×™×§×ª ×¢×“×›×•× ×™×
        registration.addEventListener('updatefound', () => {
          const newWorker = registration.installing;
          
          newWorker.addEventListener('statechange', () => {
            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
              // ×™×© ×¢×“×›×•×Ÿ ×—×“×© ×–××™×Ÿ
              if (confirm('×™×© ×¢×“×›×•×Ÿ ×—×“×© ×–××™×Ÿ. ×”×× ×‘×¨×¦×•× ×š ×œ×¢×“×›×Ÿ ×¢×›×©×™×•?')) {
                newWorker.postMessage({ action: 'skipWaiting' });
                window.location.reload();
              }
            }
          });
        });
      })
      .catch(err => {
        console.log('ServiceWorker registration failed: ', err);
      });
  });
}
</script>
</head>
<body>
  <div id="update-banner" style="display:none;position:fixed;bottom:0;width:100%;background:#ffd700;color:#333;padding:1em;text-align:center;z-index:10000;">
    ×™×© ×’×¨×¡×” ×—×“×©×”! <button onclick="location.reload(true)" style="margin-right:1em;">×¨×¢× ×Ÿ ×¢×›×©×™×•</button>
  </div>  
  <div class="menu-toggle">â˜°</div>
  <div class="refresh-button" onclick="refreshPage()">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M23 4v6h-6"/>
      <path d="M1 20v-6h6"/>
      <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
    </svg>
  </div>
  <div class="side-menu">
    <div class="menu-header">
      <h2>×ª×¤×¨×™×˜</h2>
      <div class="menu-close">Ã—</div>
    </div>
    <nav class="menu-content">
      <ul class="menu-list">
        <li class="menu-item active">
          <a href="#" onclick="closeMenu()">
            <span class="menu-icon">ğŸ </span>
            <span class="menu-text">×“×£ ×”×‘×™×ª</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/shabbat">
            <span class="menu-icon">ğŸ•¯ï¸</span>
            <span class="menu-text">×–×× ×™ ×©×‘×ª</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/important-dates">
            <span class="menu-icon">ğŸ“…</span>
            <span class="menu-text">×ª××¨×™×›×™× ×—×©×•×‘×™× ×”×©×‘×•×¢</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/daily-study">
            <span class="menu-icon">ğŸ“š</span>
            <span class="menu-text">×œ×™××•×“ ×™×•××™</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
  <div class="overlay"></div>
  <div class="date-bar" id="date-bar">...</div>
  <div class="container">
    <div class="time-box right">
      <h2>×”×©×¢×” ×”× ×•×›×—×™×ª</h2>
      <div id="current-time">--:--:--</div>
    </div>

    <div class="time-box center">
      <h2>×©×¢×” ×–×× ×™×ª</h2>
      <div id="custom-time">--:--<br><span class="zman-type">--</span></div>
    </div>

    <div class="time-box left">
      <h2>×–×¨×™×—×” ×•×©×§×™×¢×”</h2>
      <div id="sun-times">--</div>
    </div>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => {
          reg.onupdatefound = () => {
            const installingWorker = reg.installing;
            installingWorker.onstatechange = () => {
              if (installingWorker.state === 'installed') {
                if (navigator.serviceWorker.controller) {
                  document.getElementById('update-banner').style.display = 'block';
                }
              }
            };
          };
        });
    }
  </script>
    

  <script src="https://unpkg.com/suncalc"></script>
  <script src="hebrew-date.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
