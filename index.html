<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="אפליקציית זמנים עם שעה זמנית">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="זמנים">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192x192.png">
  <link rel="icon" type="image/png" href="/icons/icon-192x192.png">
  <title>שעות זמניות</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./service-worker.js')
      .then(registration => {
        console.log('ServiceWorker registration successful');
        
        // בדיקת עדכונים
        registration.addEventListener('updatefound', () => {
          const newWorker = registration.installing;
          
          newWorker.addEventListener('statechange', () => {
            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
              // יש עדכון חדש זמין
              if (confirm('יש עדכון חדש זמין. האם ברצונך לעדכן עכשיו?')) {
                newWorker.postMessage({ action: 'skipWaiting' });
                window.location.reload();
              }
            }
          });
        });
      })
      .catch(err => {
        console.log('ServiceWorker registration failed: ', err);
      });
  });
}
</script>
</head>
<body>
  <div class="menu-toggle">☰</div>
  <div class="refresh-button" onclick="refreshPage()">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M23 4v6h-6"/>
      <path d="M1 20v-6h6"/>
      <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
    </svg>
  </div>
  <div class="side-menu">
    <div class="menu-header">
      <h2>תפריט</h2>
      <div class="menu-close">×</div>
    </div>
    <nav class="menu-content">
      <ul class="menu-list">
        <li class="menu-item active">
          <a href="#" onclick="closeMenu()">
            <span class="menu-icon">🏠</span>
            <span class="menu-text">דף הבית</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/shabbat">
            <span class="menu-icon">🕯️</span>
            <span class="menu-text">זמני שבת</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/important-dates">
            <span class="menu-icon">📅</span>
            <span class="menu-text">תאריכים חשובים השבוע</span>
          </a>
        </li>
        <li class="menu-item">
          <a href="/daily-study">
            <span class="menu-icon">📚</span>
            <span class="menu-text">לימוד יומי</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
  <div class="overlay"></div>
  <div class="date-bar" id="date-bar">...</div>
  <div class="container">
    <div class="time-box right">
      <h2>השעה הנוכחית</h2>
      <div id="current-time">--:--:--</div>
    </div>

    <div class="time-box center">
      <h2>שעה זמנית</h2>
      <div id="custom-time">--:--<br><span class="zman-type">--</span></div>
    </div>

    <div class="time-box left">
      <h2>זריחה ושקיעה</h2>
      <div id="sun-times">--</div>
    </div>
  </div>

  <script src="https://unpkg.com/suncalc"></script>
  <script src="hebrew-date.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
